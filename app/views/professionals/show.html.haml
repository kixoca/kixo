.row
  .eight.columns
    .page.professional
      %header
        .container
          .row
            .four.columns.text-center
              = image_tag @professional.headshot.url(:large), :class => "headshot"
            .eight.columns.mobile-text-center
              %h1.name
                = @professional.name
              %p.whois
                =t("professionals.show.whois", :locality => @professional.locality.name, :professions => @professional.professions_list, :topics => @professional.topics_list).html_safe
              %ul.metrics.block-grid.four-up
                %li=t("professionals.metrics.points", :count =>  @professional.points).html_safe
                %li=t("professionals.metrics.answers", :count => @professional.answers.count).html_safe
                %li=t("professionals.metrics.reviews", :count => @professional.reviews.count).html_safe
                %li=t("professionals.metrics.guides", :count => @professional.guides.count).html_safe
      %section
        .container
          - unless @professional.bio.blank?
            .about
              %h5.section-title
                =t "professionals.show.about", :name => @professional.name
              %p.bio
                = @professional.bio
          .contacts
            - unless @professional.tel.blank?
              .tel.pull-left
                = @professional.tel
            .pull-left
              %a.new_conversation_trigger.button.small{:href => "#", :data => {"participant-id" => @professional.id}}
                =t "professionals.show.send_message"
            .clear
      %section
        .container.no-pad
          .map
            .gmap{:data => {:latitude => @professional.latitude, :longitude => @professional.longitude}}
              .marker{:data => {:latitude => @professional.latitude, :longitude => @professional.longitude}}
                %p.address
                  - unless @professional.street_address_1.blank?
                    %span.street-address-1
                      = "#{@professional.street_address_1}, "
                    - unless @professional.street_address_2.blank?
                      %span.street-address-2
                        = @professional.street_address_2
                    %br
                  - unless @professional.locality.nil?
                    %span.locality
                      = @professional.locality.name
                    %br
                  - unless @professional.region.nil?
                    %span.region
                      = @professional.region.name
                  - unless @professional.postal_code.blank?
                    %span.postal_code
                      = @professional.postal_code
                  %br
                  - unless @professional.country.nil?
                    %span.country
                      = @professional.country.name
      %section#reviews
        .container
          %h5.section-title
            =t "reviews.index.title"
          - unless @reviews.blank?
            %ul.looper.reviews
              - @reviews.each do |review|
                %li= render "reviews/shared/loop", :review => review
            = paginate @reviews
          - else
            %p.no-records
              =t "professionals.reviews.count.zero", :name => @professional.name
          = render "reviews/shared/new", :professional => @professional
      %section#guides
        .container
          %h5.section-title
            =t "guides.index.title"
          - unless @guides.empty?
            %ul.looper.guides
              - @guides.each do |guide|
                %li
                  = guide.topic.name
                  = guide.title
                  = guide.excerpt
          - else
            %p.no-records
              =t "professionals.guides.count.zero", :name => @professional.name
  .four.columns
    .panel
      %h5
        =t "professionals.similar.title"
      - unless @similar_professionals.empty?
        %ul.looper.similar-professionals
          - @similar_professionals.each do |professional|
            %li= render "professionals/loops/minimal", :professional => professional
      - else
        %p.no-records
          =t "professionals.similar.count.zero"
    = render "shared/ads"
